{% extends "default.html" %}
{% block title %}Search Results{% endblock %}

{% block content %}
<div class="container mt-3">

<form method="GET" class="form-inline justify-content-center" action="/lvfs/search">
  <div class="input-group">
    <input type="text" class="form-control" aria-label="search" name="value" required>
    <div class="input-group-append">
      <button class="input-group-text" type="submit">Search</button>
    </div>
  </div>
</form>

<div class="container mt-4">

{% if search_size < 0 %}
<p class="text-muted">Enter a search term&hellip;</p>
{% elif mds|length == 0 and vendors|length == 0 %}
<h3>No results found for <i>{{keywords_bad|join(',')}}</i>.</h3>
{% else %}
{% if keywords_good|length > 0 and keywords_bad|length > 0 and vendors|length == 0 %}
<h3>Showing {{mds|length}} of {{search_size}} results for <i>{{keywords_good|join(',')}},<strike>{{keywords_bad|join(',')}}</strike></i>:</h3>
{% else %}
<h3>Showing {{mds|length + vendors|length}} of {{search_size + vendors|length}} results for <i>{{keywords_good|join(',')}}</i>:</h3>
{% endif %}
<table class="table table-striped mt-3">
{% for vendor in vendors %}
  <tr class="row">
    <td class="col-sm-1">
{% if vendor.icon %}
      <img class="img-thumbnail" src="/uploads/{{vendor.icon}}" height="64"/>
{% else %}
      <img class="img-thumbnail" src="/uploads/vendor-unknown.png" height="64"/>
{% endif %}
    </td>
    <td class="col-sm-11">
      <a href="/lvfs/vendorlist#{{vendor.group_id}}">Hardware Vendor: {{vendor.display_name}}</a><br/>
      Uses the LVFS: {{ 'Yes' if vendor.is_account_holder == 'yes' else 'No' }}<br/>
      Uploading Firmware: {{ 'Yes' if vendor.is_uploading == 'yes' else 'No' }}<br/>
      Official Statement: {{vendor.description}}
    </td>
  </tr>
{% endfor %}
{% for md in mds %}
  <tr class="row">
    <td class="col-sm-1">
      <img class="img-thumbnail" src="/uploads/vendor-unknown.png" height="64"/>
    </td>
    <td class="col-sm-11">
      <a href="/lvfs/component/{{md.component_id}}/all">Firmware: {{md.name}}</a><br/>
      Vendor: {{md.developer_name}}<br/>
{% if md.fw.version_display %}
      Latest Version: {{md.fw.version_display}}
{% else %}
      Latest Version: {{md.version}}
{% endif %}
    </td>
  </tr>
{% endfor %}
</table>
{% endif %}
</div>

</div> <!-- container -->
{% endblock %}
